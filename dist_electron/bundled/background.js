!function(e){var r={};function t(l){if(r[l])return r[l].exports;var o=r[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,l){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:l})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(l,o,function(r){return e[r]}.bind(null,o));return l},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=4)}([function(e,r){e.exports=require("electron")},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("fs")},function(e,r){e.exports=require("url")},function(e,r,t){e.exports=t(5)},function(e,r,t){"use strict";t.r(r);var l=t(0),o=t(1),a=t(2),n=t(3),c=e=>{l.protocol.registerBufferProtocol(e,(r,t)=>{let l=new n.URL(r.url).pathname;l=decodeURI(l),Object(a.readFile)(o.join(__dirname,l),(r,a)=>{r&&console.error(`Failed to register ${e} protocol`,r);let n=o.extname(l).toLowerCase(),c="";".js"===n?c="text/javascript":".html"===n?c="text/html":".css"===n?c="text/css":".svg"===n||".svgz"===n?c="image/svg+xml":".json"===n&&(c="application/json"),t({mimeType:c,data:a})})},r=>{r&&console.error(`Failed to register ${e} protocol`,r)})};let s=[{label:"编辑",submenu:[{label:"撤销",accelerator:"CmdOrCtrl+Z",role:"undo"},{label:"重做",accelerator:"Shift+CmdOrCtrl+Z",role:"redo"},{type:"separator"},{label:"剪切",accelerator:"CmdOrCtrl+X",role:"cut"},{label:"复制",accelerator:"CmdOrCtrl+C",role:"copy"},{label:"粘贴",accelerator:"CmdOrCtrl+V",role:"paste"},{label:"全选",accelerator:"CmdOrCtrl+A",role:"selectall"}]},{label:"查看",submenu:[{label:"重载",accelerator:"CmdOrCtrl+R",click:(e,r)=>{r&&(1===r.id&&l.BrowserWindow.getAllWindows().forEach(e=>{e.id>1&&e.close()}),r.reload())}},{label:"切换全屏",accelerator:(()=>"darwin"===process.platform?"Ctrl+Command+F":"F11")(),click:(e,r)=>{r&&r.setFullScreen(!r.isFullScreen())}},{label:"切换开发者工具",accelerator:(()=>"darwin"===process.platform?"Alt+Command+I":"Ctrl+Shift+I")(),click:(e,r)=>{r&&r.toggleDevTools()}}]},{label:"窗口",role:"window",submenu:[{label:"最小化",accelerator:"CmdOrCtrl+M",role:"minimize"},{label:"关闭",accelerator:"CmdOrCtrl+W",role:"close"},{type:"separator"},{label:"重新打开窗口",accelerator:"CmdOrCtrl+Shift+T",enabled:!1,key:"reopenMenuItem",click:()=>{l.app.emit("activate")}}]},{label:"帮助",role:"help",submenu:[{label:"学习更多",click:()=>{l.shell.openExternal("https://electronjs.org")}}]}];function p(){const e=l.Menu.getApplicationMenu();if(!e)return;let r;return e.items.forEach(e=>{e.submenu&&e.submenu.items.forEach(e=>{"reopenMenuItem"===e.key&&(r=e)})}),r}if("darwin"===process.platform){const e=l.app.getName(),r=l.app.getVersion();s.unshift({label:e,submenu:[{label:`关于 ${e}(${r})`,role:"about"},{type:"separator"},{label:`隐藏 ${e}`,accelerator:"Command+H",role:"hide"},{label:"隐藏其它",accelerator:"Command+Alt+H",role:"hideothers"},{label:"显示全部",role:"unhide"},{type:"separator"},{label:"退出",accelerator:"Command+Q",click:()=>{l.app.quit()}}]}),s[3].submenu.push({type:"separator"},{label:"前置所有",role:"front"})}if("win32"===process.platform){const e=l.app.getName(),r=l.app.getVersion();s.unshift({label:e,submenu:[{label:`版本 ${r}`}]});const t=s[s.length-1].submenu;addUpdateMenuItems(t,0)}l.app.on("ready",()=>{const e=l.Menu.buildFromTemplate(s);l.Menu.setApplicationMenu(e)}),l.app.on("browser-window-created",()=>{let e=p();e&&(e.enabled=!1)}),l.app.on("window-all-closed",()=>{let e=p();e&&(e.enabled=!0)});const i=!1;let u;function d(){u=new l.BrowserWindow({width:800,height:600}),i||process.env.IS_TEST?(u.loadURL(process.env.WEBPACK_DEV_SERVER_URL),process.env.IS_TEST||u.webContents.openDevTools()):(c("app"),u.loadURL("app://./index.html")),u.on("closed",()=>{u=null})}l.protocol.registerStandardSchemes(["app"],{secure:!0}),l.app.on("window-all-closed",()=>{"darwin"!==process.platform&&l.app.quit()}),l.app.on("activate",()=>{null===u&&d()}),l.app.on("ready",async()=>{d()}),l.app.setAsDefaultProtocolClient("proj"),i&&("win32"===process.platform?process.on("message",e=>{"graceful-exit"===e&&l.app.quit()}):process.on("SIGTERM",()=>{l.app.quit()}))}]);